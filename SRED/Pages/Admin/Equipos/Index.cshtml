@page
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ver Equipos</title>
    <link rel="stylesheet" href="~/css/estilos.css" />
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
          rel="stylesheet" />
    <script src="/Index.js" type="module"></script>
</head>
<body id="fijo">
    <header>
        <label for="">Sistema de Reportes de Equipo Dañado</label>
        <span>
            <a href="/SREDDesigns/Equipos/AgregarEquipo.html">
                <i class="fa-solid fa-plus" id="btn-agregar"></i>
            </a>
            <i class="fa-solid fa-gear" id="btn-config"></i>
        </span>
        <div id="opcionCerrarSesion">
            <label for="">Cerrar sesión</label>
        </div>
    </header>
    <main id="main-aulas">
        <ul id="lista-Aulas">
           
        </ul>

        <div id="menu-flotante">
            <ul>
                <li>
                    <a href="/Admin/Aulas/Index">
                        <i class="fa-solid fa-person-chalkboard"></i>
                    </a>
                    <label for="">Aulas</label>
                </li>
                <li class="seleccionado">
                    <a href="/Admin/Equipos/Index">
                        <i class="fa-solid fa-computer s"></i>
                    </a>
                    <label for="" class="selec">Equipos</label>
                </li>
                <li>
                    <a href="/Admin/Tipos/Index">
                        <i class="fa-solid fa-cubes"></i>
                    </a>
                    <label for="">Tipos</label>
                </li>
            </ul>
        </div>
    </main>
    <script>
        async function cargarEquipos() {
            const listaAulas = document.getElementById('lista-Aulas');
            listaAulas.innerHTML = '<label>Cargando...</label>';
            try {
                // Realizar la solicitud a la API
                const response = await fetch('https://localhost:44342/api/Equipo'); // Cambia esta URL por la de tu API
                const data = await response.json();
                listaAulas.innerHTML = '';
                data.forEach(aula => {
                    // Crear el elemento <li> y añadir la clase
                    const li = document.createElement('li');
                    li.classList.add('swipe-item');

                    // Crear el contenedor reveal-left para el icono de edición
                    const revealLeft = document.createElement('div');
                    revealLeft.classList.add('reveal-left');
                    const editLink = document.createElement('a');
                    editLink.href = 'ActualizarAula.html';
                    const editIcon = document.createElement('i');
                    editIcon.classList.add('fa-solid', 'fa-pencil');
                    editLink.appendChild(editIcon);
                    revealLeft.appendChild(editLink);

                    // Crear el label con el nombre del aula
                    // Crear el contenedor <span> con los dos labels
                    const span = document.createElement('span');
                    const labelNombre = document.createElement('label');
                    labelNombre.classList.add('letra-bold');
                    labelNombre.textContent = aula.nombre; // Asume que "nombre" es la propiedad del aula en la API

                    const labelUbicacion = document.createElement('label');
                    labelUbicacion.textContent = aula.aula; // Asume que "ubicacion" es la propiedad del aula en la API

                    span.appendChild(labelNombre);
                    span.appendChild(labelUbicacion);

                    // Crear el contenedor reveal-right para el icono de eliminación
                    const revealRight = document.createElement('div');
                    revealRight.classList.add('reveal-right');
                    const deleteLink = document.createElement('a');
                    deleteLink.href = 'EliminarAula.html';
                    const deleteIcon = document.createElement('i');
                    deleteIcon.classList.add('fa-solid', 'fa-trash');
                    deleteLink.appendChild(deleteIcon);
                    revealRight.appendChild(deleteLink);

                    // Añadir los elementos al <li>
                    li.appendChild(revealLeft);
                    li.appendChild(label);
                    li.appendChild(revealRight);

                    // Añadir el <li> al <ul> con id lista-Aulas
                    listaAulas.appendChild(li);
                });
            } catch (error) {
                console.error('Error:', error);
            }
        }

        // Llamar a la función cargarAulas
        cargarEquipos();
    </script>
</body>
</html>
