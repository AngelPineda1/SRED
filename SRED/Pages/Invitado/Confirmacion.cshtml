@page
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ver Equipos</title>
    <link rel="stylesheet" href="../css/Estilos.css" />
</head>
<body>
    <header>
        <a href="/Invitado/Index">
            <img src="../assets/arrow-left-solid.svg" alt="" id="btn-regresar" />
        </a>
        <span>
            <img class="config-grande"
                 src="../assets/settings-3-fill (1).svg"
                 alt="" />
        </span>
    </header>
    <div id="opcionCerrarSesion">
        <label for="" id="logout">Cerrar sesión</label>
    </div>
    <main id="main-confirmacion">
        <label for=""> Su reporte ha sido enviado correctamente.</label>
        <img src="../assets/marcar.png" alt="" />
        <button id="nuevo" >Generar nuevo</button>
    </main>
</body>
</html>
<script>
    const nuevo = document.getElementById("nuevo");
    nuevo.addEventListener("click",()=>{
        window.location.href = `/Invitado/SeleccionarLab`;
    })
    const logout = document.getElementById("logout");
    logout.addEventListener("click", async () => {
        const resp = await fetch("/logout");
        if (resp.ok) {
            window.location.href = `/Index`;

        }
    });
    let btnCerrarSesion = document.querySelector(".config-grande");
    let opcionCerrarSesion = document.getElementById("opcionCerrarSesion");

    btnCerrarSesion.addEventListener("click", function (e) {
      e.stopPropagation();

      if (opcionCerrarSesion.style.visibility === "hidden") {
        opcionCerrarSesion.style.visibility = "visible";
      } else {
        opcionCerrarSesion.style.visibility = "hidden";
      }
    });

    document.addEventListener("click", function (e) {
      if (opcionCerrarSesion.style.visibility == "visible") {
        opcionCerrarSesion.style.visibility = "hidden";
      }
    });
</script>